<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Testing with Nightmare · CodeceptJS</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;Selenium WebDriver is considered to be standard for end to end testing of web applications.&lt;/p&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Testing with Nightmare · CodeceptJS"/><meta property="og:type" content="website"/><meta property="og:url" content="https://codecept.io/index.html"/><meta property="og:description" content="&lt;p&gt;Selenium WebDriver is considered to be standard for end to end testing of web applications.&lt;/p&gt;
"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-30075781-3"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'UA-30075781-3');
            </script><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo.svg" alt="CodeceptJS"/><h2 class="headerTitleWithLogo">CodeceptJS</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/quickstart" target="_self">Quickstart</a></li><li class="siteNavGroupActive"><a href="/basics" target="_self">Guides</a></li><li class=""><a href="/reference" target="_self">API</a></li><li class=""><a href="/changelog" target="_self">Releases</a></li><li class=""><a href="/help" target="_self">Support</a></li><li class=""><a href="https://github.com/Codeception/CodeceptJS" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Web Testing</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Web Testing</h3><ul><li class="navListItem"><a class="navItem" href="/basics">Basics</a></li><li class="navListItem"><a class="navItem" href="/webdriver">Testing with WebDriver</a></li><li class="navListItem"><a class="navItem" href="/puppeteer">Testing with Puppeteer</a></li><li class="navListItem"><a class="navItem" href="/testcafe">Testing with TestCafe</a></li><li class="navListItem"><a class="navItem" href="/angular">Testing with Protractor</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/nightmare">Testing with Nightmare</a></li><li class="navListItem"><a class="navItem" href="/visual">Visual Testing</a></li><li class="navListItem"><a class="navItem" href="/email">Email Testing</a></li><li class="navListItem"><a class="navItem" href="/react">Testing React Applications</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Mobile Testing</h3><ul><li class="navListItem"><a class="navItem" href="/mobile">Mobile Testing with Appium</a></li><li class="navListItem"><a class="navItem" href="/detox">Testing React Native with Detox</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Organizing Tests</h3><ul><li class="navListItem"><a class="navItem" href="/best">Best Practices</a></li><li class="navListItem"><a class="navItem" href="/locators">Locators</a></li><li class="navListItem"><a class="navItem" href="/pageobjects">Page Objects</a></li><li class="navListItem"><a class="navItem" href="/helpers">Custom Helpers</a></li><li class="navListItem"><a class="navItem" href="/bdd">Behavior Driven Development</a></li><li class="navListItem"><a class="navItem" href="/data">Data Management</a></li><li class="navListItem"><a class="navItem" href="/parallel">Parallel Execution</a></li><li class="navListItem"><a class="navItem" href="/reports">Reporters</a></li><li class="navListItem"><a class="navItem" href="/advanced">Advanced Usage</a></li><li class="navListItem"><a class="navItem" href="/hooks">Bootstrap / Teardown / Plugins</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Tutorials</h3><ul><li class="navListItem"><a class="navItem" href="/books">Books &amp; Posts</a></li><li class="navListItem"><a class="navItem" href="/videos">Videos</a></li><li class="navListItem"><a class="navItem" href="/examples">Examples</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/Codeception/CodeceptJS/blob/master/docs/nightmare.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Testing with Nightmare</h1></header><article><div><span><p>Selenium WebDriver is considered to be standard for end to end testing of web applications.
Despite its popularity it have its drawbacks, it requires a real browser and Selenium server to control it.
This hardens setting it up testing environment for CI server and slows down test execution.</p>
<p>Is there a sane alternative to Selenium?</p>
<p>Yes, how about <a href="http://www.nightmarejs.org">NightmareJS</a>?</p>
<p>It is modern Electron based testing framework which allows to execute tests in headless mode as well as in window mode for debug purposes.
This makes Nightmare very useful, much more handy than PhantomJS. Nightmare is in active development and has nice API for writing acceptance tests.
Unfortunately, as all other JavaScript testing frameworks it has its own very custom API.
What if you choose it for a project and suddenly you realize that you need something more powerful, like Selenium?
Yes, that might be a problem if you are not using CodeceptJS.
The one idea behind CodeceptJS is to unify different testing backends under one API, so you could easily write tests the same way no matter what engines you use: webdriverio, Protractor, or Nightmare.</p>
<p>Compare a test written using Nightmare API:</p>
<pre><code class="hljs css language-js">nightmare
  .goto(<span class="hljs-string">'http://yahoo.com'</span>)
  .type(<span class="hljs-string">'form[action*="/search"] [name=p]'</span>, <span class="hljs-string">'github nightmare'</span>)
  .click(<span class="hljs-string">'form[action*="/search"] [type=submit]'</span>)
  .wait(<span class="hljs-string">'#main'</span>)
  .evaluate(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'#main .searchCenterMiddle li a'</span>).href
  })
</code></pre>
<p>with a similar CodeceptJS test:</p>
<pre><code class="hljs css language-js">  <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'http://yahoo.com'</span>);
  <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'p'</span>, <span class="hljs-string">'github nightmare'</span>);
  <span class="hljs-built_in">I</span>.click(<span class="hljs-string">'Search Web'</span>);
  <span class="hljs-built_in">I</span>.waitForElement(<span class="hljs-string">'#main'</span>);
  <span class="hljs-built_in">I</span>.seeElement(<span class="hljs-string">'#main .searchCenterMiddle li a'</span>);
  <span class="hljs-built_in">I</span>.seeElement(<span class="hljs-string">"//a[contains(@href,'github.com/segmentio/nightmare')]"</span>);
  <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'segmentio/nightmare'</span>,<span class="hljs-string">'#main li a'</span>);
</code></pre>
<p>NightmareJS support only CSS locators for web elements, while CodeceptJS improves it to use XPath as well.
This is how form can be located by labels, and buttons by text in examples above. It is done by injecting
client-side scrips (for element location) to every loaded page. Also all events like click, doubleClick, keyPress are <strong>simulated</strong> by JavaScript,
this makes testing less relevant, as they are not native to operating systems.</p>
<h2><a class="anchor" aria-hidden="true" id="how-fast-is-nightmare-js"></a><a href="#how-fast-is-nightmare-js" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How Fast Is Nightmare JS?</h2>
<p>Let's execute the test above within WebDriver using headless Firefox + Selenium Server packed in Docker container.</p>
<pre><code class="hljs css language-sh">docker run -d -p 4444:4444 selenium/standalone-firefox:2.53.0
codeceptjs run yahoo_test.js --steps
</code></pre>
<p>This provides use with output:</p>
<pre><code class="hljs css language-sh"> Yahoo basic <span class="hljs-built_in">test</span>
 &gt; WebDriver._before
 • I am on page <span class="hljs-string">"http://yahoo.com"</span>
 • I fill field <span class="hljs-string">"p"</span>, <span class="hljs-string">"github nightmare"</span>
 • I click <span class="hljs-string">"Search Web"</span>
 • I <span class="hljs-built_in">wait</span> <span class="hljs-keyword">for</span> element <span class="hljs-string">"#main"</span>, 2
 • I see element <span class="hljs-string">"#main .searchCenterMiddle li a"</span>
 • I see <span class="hljs-string">"segmentio/nightmare"</span>, <span class="hljs-string">"li a"</span>
 ✓ OK <span class="hljs-keyword">in</span> 17591ms
</code></pre>
<p>When we switch helper to Nightmare:</p>
<pre><code class="hljs css language-sh"> Yahoo basic <span class="hljs-built_in">test</span>
 &gt; Nightmare._before
 • I am on page <span class="hljs-string">"http://yahoo.com"</span>
 • I fill field <span class="hljs-string">"p"</span>, <span class="hljs-string">"github nightmare"</span>
 • I click <span class="hljs-string">"Search Web"</span>
 • I <span class="hljs-built_in">wait</span> <span class="hljs-keyword">for</span> element <span class="hljs-string">"#main"</span>, 2
 • I see element <span class="hljs-string">"#main .searchCenterMiddle li a"</span>
 • I see <span class="hljs-string">"segmentio/nightmare"</span>, <span class="hljs-string">"li a"</span>
 ✓ OK <span class="hljs-keyword">in</span> 5490ms
</code></pre>
<p>As you see the Nightmare test was almost <strong>3 times faster</strong> than Selenium test.
Sure, this can't be taken as a valuable benchmark but more like a proof of concept.</p>
<h2><a class="anchor" aria-hidden="true" id="setup"></a><a href="#setup" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup</h2>
<p>To start you need CodeceptJS with nightmare package installed.</p>
<pre><code class="hljs css language-bash">npm install -g nightmare
</code></pre>
<p>And a basic project initialized</p>
<pre><code class="hljs css language-sh">codeceptjs init
</code></pre>
<p>You will be asked for a Helper to use, you should select Nightmare and provide url of a website you are testing.
Setup process is explained on <a href="http://codecept.io/quickstart/">QuickStart page</a>.</p>
<p>(If you already have CodeceptJS project, just install nightmare globally or locally and enable it in config)</p>
<h2><a class="anchor" aria-hidden="true" id="configuring-nightmare"></a><a href="#configuring-nightmare" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuring Nightmare</h2>
<p>Enable <code>Nightmare</code> helper in <code>codecept.json</code> config:</p>
<pre><code class="hljs css language-js">{ <span class="hljs-comment">// ..</span>
  <span class="hljs-string">"helpers"</span>: {
    <span class="hljs-string">"Nightmare"</span>: {
      <span class="hljs-string">"url"</span>: <span class="hljs-string">"http://localhost"</span>,
      <span class="hljs-string">"show"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-string">"restart"</span>: <span class="hljs-literal">false</span>
    }
  }
  <span class="hljs-comment">// ..</span>
}
</code></pre>
<p>Turn on the <code>show</code> option if you want to follow test progress in a window. This is very useful for debugging.
All other options can be taken from <a href="https://github.com/segmentio/nightmare#api">NightmareJS API</a>.</p>
<p>Turn off the <code>restart</code> option if you want to run your suite in a single browser instance.</p>
<p>Option <code>waitForAction</code> defines how long to wait after a click, doubleClick or pressKey action is performed.
Test execution may happen much faster than the response is rendered, so make sure you set a proper delay value.
By default CodeceptJS waits for 500ms.</p>
<h2><a class="anchor" aria-hidden="true" id="opening-a-web-page"></a><a href="#opening-a-web-page" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Opening a Web Page</h2>
<p>Nightmare provides you with more control to browser engine than Selenium does.
This allows you to use headers in your tests. For instance, CodeceptJS provides <code>haveHeader</code> method
to set default headers for all your HTTP requests:</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">I</span>.haveHeader(<span class="hljs-string">'x-tested-with'</span>, <span class="hljs-string">'codeceptjs'</span>);
</code></pre>
<p>When opening a web page you can set headers as well. <code>amOnPage</code> methods can take headers as second parameter:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// use basic http auth</span>
<span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/admin'</span>, { <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">'Basic '</span>+token });
</code></pre>
<p>As a small bonus: all <code>console.log</code> calls on a page will be also shown in <code>--debug</code> mode.</p>
<h2><a class="anchor" aria-hidden="true" id="manipulating-web-page"></a><a href="#manipulating-web-page" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Manipulating Web Page</h2>
<p>Nightmare helper is supposed to work in the same manner as WebDriver or Protractor.
This means that all CodeceptJS actions like <code>click</code>, <code>fillField</code>, <code>selectOption</code> and others are supposed to work in the very same manner.
They are expressive and flexible to accept CSS, XPath, names, values, or strict locators. Follow the helper reference for detailed description.</p>
<p>Assertions start with <code>see</code> prefix. You can check text on a page, elements on page and others.</p>
<h2><a class="anchor" aria-hidden="true" id="extending-nightmare-helper"></a><a href="#extending-nightmare-helper" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Extending Nightmare Helper</h2>
<p>CodeceptJS allows you to define and connect own helpers. If some functionality of
Nightmare helper is missing you can easily create <code>ExtendedNightmare</code> helper by running:</p>
<pre><code class="hljs css language-sh">codeceptjs gh
</code></pre>
<p>Learn more about <a href="http://codecept.io/helpers/">Helpers</a>.</p>
<p>Nightmare instance can be accessed by custom helper:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// returns current nightmare instance</span>
<span class="hljs-keyword">this</span>.helpers[<span class="hljs-string">'Nightmare'</span>].browser;
</code></pre>
<p>This way you can call <a href="https://github.com/segmentio/nightmare#interact-with-the-page">native Nightmare commands</a>.</p>
<p>It is important to understand that Nightmare executes JavaScript on client and on server side.
If you need to find an element you should search for it using client side script, but if you want
to do an assertion you should return a data to server side.</p>
<p>Nightmare provides <code>evaluate</code> method to execute client-side JavaScript. CodeceptJS registers <code>codeceptjs</code>
object globally on client side with <code>findElement</code> and <code>findElements</code> methods in it. They return IDs of matched elements
so you can access them in next calls to <code>evaluate</code>:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// inside a custom helper class</span>
<span class="hljs-keyword">async</span> seeAttributeContains(locator, attribute, expectedValue) {
  <span class="hljs-comment">// let's use chai assertion library</span>
  <span class="hljs-keyword">const</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">'chai'</span>).assert;
  <span class="hljs-comment">// get nightmare instance</span>
  <span class="hljs-keyword">const</span> browser = <span class="hljs-keyword">this</span>.helpers[<span class="hljs-string">'Nightmare'</span>].browser;
  <span class="hljs-comment">// find an element by CSS or XPath:</span>
  <span class="hljs-keyword">const</span> els = <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>.helpers[<span class="hljs-string">'Nightmare'</span>]._locate(locator);
    <span class="hljs-comment">// we received an array with IDs of matched elements</span>
    <span class="hljs-comment">// now let's execute client-side script to get attribute for the first element</span>
  <span class="hljs-keyword">const</span> attributeValue = <span class="hljs-keyword">await</span> browser.evaluate(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">el, attribute</span>) </span>{
      <span class="hljs-comment">// this is executed inside a web page!</span>
      <span class="hljs-keyword">return</span> codeceptjs.fetchElement(el).getAttribute(attribute);
  }, els[<span class="hljs-number">0</span>], attribute); <span class="hljs-comment">// function + its params</span>

    <span class="hljs-comment">// get attribute value and back to server side</span>
    <span class="hljs-comment">// execute an assertion</span>
  assert.include(attributeValue, expectedValue);
}
</code></pre>
<p>It can be used in tests like:</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">I</span>.seeAttributeContains(<span class="hljs-string">'#main img'</span>, <span class="hljs-string">'src'</span>, <span class="hljs-string">'/cat.jpg'</span>);
</code></pre>
<p>This sample assertion used <code>_locate</code> helper method which searched for elements
by CSS/XPath or a strict locator. Then <code>browser.evaluate</code> method was called to
use locate found elements on a page and return attribute from the first of them.</p>
<h2><a class="anchor" aria-hidden="true" id="additional-links"></a><a href="#additional-links" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Additional Links</h2>
<ul>
<li><a href="http://codenroll.it/acceptance-testing-with-codecept-js/">Nightmare Tutorial</a> by jploskonka.</li>
</ul>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 12/25/2018</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/angular"><span class="arrow-prev">← </span><span>Testing with Protractor</span></a><a class="docs-next button" href="/visual"><span>Visual Testing</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#how-fast-is-nightmare-js">How Fast Is Nightmare JS?</a></li><li><a href="#setup">Setup</a></li><li><a href="#configuring-nightmare">Configuring Nightmare</a></li><li><a href="#opening-a-web-page">Opening a Web Page</a></li><li><a href="#manipulating-web-page">Manipulating Web Page</a></li><li><a href="#extending-nightmare-helper">Extending Nightmare Helper</a></li><li><a href="#additional-links">Additional Links</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo.svg" alt="CodeceptJS" width="66" height="58"/></a><div><h5>Docs</h5><a href="/quickstart">QuickStart</a><a href="/basics">Guides</a><a href="/reference">Reference</a></div><div><h5>Community</h5><a href="https://join.slack.com/t/codeceptjs/shared_invite/enQtMzA5OTM4NDM2MzA4LWE4MThhN2NmYTgxNTU5MTc4YzAyYWMwY2JkMmZlYWI5MWQ2MDM5MmRmYzZmYmNiNmY5NTAzM2EwMGIwOTNhOGQ">Slack Chat</a><a href="https://codecept.discourse.group" target="_blank" rel="noreferrer noopener">Community Forum</a><a href="http://stackoverflow.com/questions/tagged/codeceptjs" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/codeceptjs" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="https://github.com/Codeception/CodeceptJS">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/codeception/codeceptjs/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a><a href="http://sdclabs.com/codeceptjs?utm_source=codecept.io&amp;utm_medium=footer&amp;utm_term=link&amp;utm_campaign=reference">Commercial Support</a><a href="http://sdclabs.com/trainings/web-automation-codeceptjs?utm_source=codecept.io&amp;utm_medium=top_menu&amp;utm_term=link&amp;utm_campaign=reference">Trainings</a></div></section><section class="copyright">Copyright © 2019 CodeceptJS</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '0cc13a0af567a05fc38790be681b1491',
                indexName: 'codecept',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>