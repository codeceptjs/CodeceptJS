<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Plugins · CodeceptJS</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;!-- Generated by documentation.js. Update this documentation by updating the source code. --&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Plugins · CodeceptJS"/><meta property="og:type" content="website"/><meta property="og:url" content="https://codecept.io/index.html"/><meta property="og:description" content="&lt;!-- Generated by documentation.js. Update this documentation by updating the source code. --&gt;"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo.svg" alt="CodeceptJS"/><h2 class="headerTitleWithLogo">CodeceptJS</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/quickstart" target="_self">Quickstart</a></li><li class=""><a href="/basics" target="_self">Guides</a></li><li class=""><a href="/reference" target="_self">API</a></li><li class=""><a href="/changelog" target="_self">Releases</a></li><li class=""><a href="/help" target="_self">Support</a></li><li class=""><a href="https://github.com/Codeception/CodeceptJS" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>API</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">API</h3><ul><li class="navListItem"><a class="navItem" href="/installation">Installation</a></li><li class="navListItem"><a class="navItem" href="/commands">Commands</a></li><li class="navListItem"><a class="navItem" href="/configuration">Configuration</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/plugins">Plugins</a></li><li class="navListItem"><a class="navItem" href="/docker">Docker</a></li><li class="navListItem"><a class="navItem" href="/reports">Reporters</a></li><li class="navListItem"><a class="navItem" href="/translation">Translation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Driver Helpers</h3><ul><li class="navListItem"><a class="navItem" href="/helpers/WebDriver">WebDriver</a></li><li class="navListItem"><a class="navItem" href="/helpers/Puppeteer">Puppeteer</a></li><li class="navListItem"><a class="navItem" href="/helpers/Protractor">Protractor</a></li><li class="navListItem"><a class="navItem" href="/helpers/Nightmare">Nightmare</a></li><li class="navListItem"><a class="navItem" href="/helpers/Appium">Appium</a></li><li class="navListItem"><a class="navItem" href="/helpers/Detox">Detox</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Additional Helpers</h3><ul><li class="navListItem"><a class="navItem" href="/helpers/REST">REST</a></li><li class="navListItem"><a class="navItem" href="/helpers/ApiDataFactory">ApiDataFactory</a></li><li class="navListItem"><a class="navItem" href="/helpers/FileSystem">FileSystem</a></li><li class="navListItem"><a class="navItem" href="/community-helpers">Community Helpers</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/Codeception/CodeceptJS/blob/master/docs/plugins.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Plugins</h1></header><article><div><span><!-- Generated by documentation.js. Update this documentation by updating the source code. -->
<h2><a class="anchor" aria-hidden="true" id="allure"></a><a href="#allure" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>allure</h2>
<p>Allure reporter</p>
<p><img src="https://user-images.githubusercontent.com/220264/45676511-8e052800-bb3a-11e8-8cbb-db5f73de2add.png" alt=""></p>
<p>Enables Allure reporter.</p>
<h5><a class="anchor" aria-hidden="true" id="usage"></a><a href="#usage" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage</h5>
<p>To start please install <code>allure-commandline</code> package (which requires Java 8)</p>
<pre><code class="hljs">npm install -g allure-commandline --save-dev
</code></pre>
<p>Add this plugin to config file:</p>
<pre><code class="hljs css language-js"><span class="hljs-string">"plugins"</span>: {
    <span class="hljs-string">"allure"</span>: {}
}
</code></pre>
<p>Run tests with allure plugin enabled:</p>
<pre><code class="hljs">codeceptjs run --plugins allure
</code></pre>
<p>By default, allure reports are saved to <code>output</code> directory.
Launch Allure server and see the report like on a screenshot above:</p>
<pre><code class="hljs">allure serve output
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="configuration"></a><a href="#configuration" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration</h5>
<ul>
<li><code>outputDir</code> - a directory where allure reports should be stored. Standard output directory is set by default.</li>
<li><code>enableScreenshotDiffPlugin</code> - a boolean flag for add screenshot diff to report.
To attach, tou need to attach three files to the report - &quot;diff.png&quot;, &quot;actual.png&quot;, &quot;expected.png&quot;.
See <a href="https://github.com/allure-framework/allure2/blob/master/plugins/screen-diff-plugin/README.md">Allure Screenshot Plugin</a></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="public-api"></a><a href="#public-api" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Public API</h4>
<p>There are few public API methods which can be accessed from other plugins.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> allure = codeceptjs.container.plugins(<span class="hljs-string">'allure'</span>);
</code></pre>
<p><code>allure</code> object has following methods:</p>
<ul>
<li><code>addAttachment(name, buffer, type)</code> - add an attachment to current test / suite</li>
<li><code>addLabel(name, value)</code> - adds a label to current test</li>
<li><code>severity(value)</code> - adds severity label</li>
<li><code>epic(value)</code> - adds epic label</li>
<li><code>feature(value)</code> - adds feature label</li>
<li><code>story(value)</code> - adds story label</li>
<li><code>issue(value)</code> - adds issue label</li>
<li><code>setDescription(description, type)</code> - sets a description</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="parameters"></a><a href="#parameters" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parameters</h3>
<ul>
<li><code>config</code></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="autodelay"></a><a href="#autodelay" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>autoDelay</h2>
<p>Sometimes it takes some time for a page to respond to user's actions.
Depending on app's perfromance this can be either slow or fast.</p>
<p>For instance, if you click a button and nothing happens - probably JS event is not attached to this button yet
Also, if you fill field and input validation doesn't accept your input - maybe because you typed value too fast.</p>
<p>This plugin allows to slow down tests execution when a test running too fast.
It puts a tiny delay for before and after action commands.</p>
<p>Commands affected (by default):</p>
<ul>
<li><code>click</code></li>
<li><code>fillField</code></li>
<li><code>checkOption</code></li>
<li><code>pressKey</code></li>
<li><code>doubleClick</code></li>
<li><code>rightClick</code></li>
</ul>
<h5><a class="anchor" aria-hidden="true" id="configuration-1"></a><a href="#configuration-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration</h5>
<pre><code class="hljs css language-js"><span class="hljs-string">"plugins"</span>: {
   <span class="hljs-string">"autoDelay"</span>: {
     <span class="hljs-string">"enabled"</span>: <span class="hljs-literal">true</span>
   }
}
</code></pre>
<p>Possible config options:</p>
<ul>
<li><code>methods</code>: list of affected commands. Can be overridden</li>
<li><code>delayBefore</code>: put a delay before a command. 100ms by default</li>
<li><code>delayAfter</code>: put a delay after a command. 200ms by default</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="parameters-1"></a><a href="#parameters-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parameters</h3>
<ul>
<li><code>config</code></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="autologin"></a><a href="#autologin" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>autoLogin</h2>
<p>Logs user in for the first test and reuses session for next tests.
Works by saving cookies into memory or file.
If a session expires automatically logs in again.</p>
<blockquote>
<p>For better development experience cookies can be saved into file, so a session can be reused while writing tests.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="usage-1"></a><a href="#usage-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage</h4>
<ol>
<li>Enable this plugin and configure as described below</li>
<li>Define user session names (example: <code>user</code>, <code>editor</code>, <code>admin</code>, etc).</li>
<li>Define how users are logged in and how to check that user is logged in</li>
<li>Use <code>login</code> object inside your tests to log in:</li>
</ol>
<pre><code class="hljs css language-js"><span class="hljs-comment">// inside a test file</span>
<span class="hljs-comment">// use login to inject auto-login function</span>
<span class="hljs-keyword">Before</span>(<span class="hljs-function"><span class="hljs-params">login</span> =&gt;</span> {
   login(<span class="hljs-string">'user'</span>); <span class="hljs-comment">// login using user session</span>
});

<span class="hljs-comment">// Alternatively log in for one scenario</span>
<span class="hljs-keyword">Scenario</span>(<span class="hljs-string">'log me in'</span>, (<span class="hljs-built_in">I</span>, login) =&gt; {
   login(<span class="hljs-string">'admin'</span>);
   <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'I am logged in'</span>);
});
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="configuration-2"></a><a href="#configuration-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration</h4>
<ul>
<li><code>saveToFile</code> (default: false) - save cookies to file. Allows to reuse session between execution.</li>
<li><code>inject</code> (default: <code>login</code>) - name of the login function to use</li>
<li><code>users</code> - an array containing different session names and functions to:
<ul>
<li><code>login</code> - sign in into the system</li>
<li><code>check</code> - check that user is logged in</li>
<li><code>fetch</code> - to get current cookies (by default <code>I.grabCookie()</code>)</li>
<li><code>restore</code> - to set cookies (by default <code>I.amOnPage('/'); I.setCookie(cookie)</code>)</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="how-it-works"></a><a href="#how-it-works" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How It Works</h4>
<ol>
<li><code>restore</code> method is executed. It should open a page and set credentials.</li>
<li><code>check</code> method is executed. It should reload a page (so cookies are applied) and check that this page belongs to logged in user.</li>
<li>If <code>restore</code> and <code>check</code> were not successful, <code>login</code> is executed</li>
<li><code>login</code> should fill in login form</li>
<li>After successful login, <code>fetch</code> is executed to save cookies into memory or file.</li>
</ol>
<h4><a class="anchor" aria-hidden="true" id="example-simple-login"></a><a href="#example-simple-login" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example: Simple login</h4>
<pre><code class="hljs css language-js">autoLogin: {
  <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">saveToFile</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">inject</span>: <span class="hljs-string">'login'</span>,
  <span class="hljs-attr">users</span>: {
    <span class="hljs-attr">admin</span>: {
      <span class="hljs-comment">// loginAdmin function is defined in `steps_file.js`</span>
      login: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">I</span></span>) =&gt;</span> <span class="hljs-built_in">I</span>.loginAdmin(),
      <span class="hljs-comment">// if we see `Admin` on page, we assume we are logged in</span>
      check: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">I</span></span>) =&gt;</span> {
         <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/'</span>);
         <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'Admin'</span>);
      }
    }
  }
}
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="example-multiple-users"></a><a href="#example-multiple-users" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example: Multiple users</h4>
<pre><code class="hljs css language-js">autoLogin: {
  <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">saveToFile</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">inject</span>: <span class="hljs-string">'loginAs'</span>, <span class="hljs-comment">// use `loginAs` instead of login</span>
  users: {
    <span class="hljs-attr">user</span>: {
      <span class="hljs-attr">login</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">I</span></span>) =&gt;</span> {
         <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/login'</span>);
         <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'email'</span>, <span class="hljs-string">'user@site.com'</span>);
         <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'password'</span>, <span class="hljs-string">'123456'</span>);
         <span class="hljs-built_in">I</span>.click(<span class="hljs-string">'Login'</span>);
      }
      check: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">I</span></span>) =&gt;</span> {
         <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/'</span>);
         <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'User'</span>, <span class="hljs-string">'.navbar'</span>);
      }
    },
    <span class="hljs-attr">admin</span>: {
      <span class="hljs-attr">login</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">I</span></span>) =&gt;</span> {
         <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/login'</span>);
         <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'email'</span>, <span class="hljs-string">'admin@site.com'</span>);
         <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'password'</span>, <span class="hljs-string">'123456'</span>);
         <span class="hljs-built_in">I</span>.click(<span class="hljs-string">'Login'</span>);
      }
      check: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">I</span></span>) =&gt;</span> {
         <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/'</span>);
         <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'Admin'</span>, <span class="hljs-string">'.navbar'</span>),
    },
  }
}
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="example-keep-cookies-between-tests"></a><a href="#example-keep-cookies-between-tests" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example: Keep cookies between tests</h4>
<p>If you decide to keep cookies between tests you don't need to save/retrieve cookies between tests.
But you need to login once work until session expires.
For this case, disable <code>fetch</code> and <code>restore</code> methods.</p>
<pre><code class="hljs css language-js">helpers: {
   <span class="hljs-attr">WebDriver</span>: {
     <span class="hljs-comment">// config goes here</span>
     keepCookies: <span class="hljs-literal">true</span>; <span class="hljs-comment">// keep cookies for all tests</span>
   }
},
<span class="hljs-attr">plugins</span>: {
   <span class="hljs-attr">autoLogin</span>: {
    <span class="hljs-attr">admin</span>: {
      <span class="hljs-attr">login</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">I</span></span>) =&gt;</span> {
         <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/login'</span>);
         <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'email'</span>, <span class="hljs-string">'admin@site.com'</span>);
         <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'password'</span>, <span class="hljs-string">'123456'</span>);
         <span class="hljs-built_in">I</span>.click(<span class="hljs-string">'Login'</span>);
      }
      check: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">I</span></span>) =&gt;</span> {
         <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/dashboard'</span>);
         <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'Admin'</span>, <span class="hljs-string">'.navbar'</span>);
      },
      <span class="hljs-attr">fetch</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {}, <span class="hljs-comment">// empty function</span>
      restore: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {}, <span class="hljs-comment">// empty funciton</span>
    }
  }
}
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="example-getting-sessions-from-local-storage"></a><a href="#example-getting-sessions-from-local-storage" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example: Getting sessions from local storage</h4>
<p>If your session is stored in local storage instead of cookies you still can obtain sessions.</p>
<pre><code class="hljs css language-js">plugins: {
   <span class="hljs-attr">autoLogin</span>: {
    <span class="hljs-attr">admin</span>: {
      <span class="hljs-attr">login</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">I</span></span>) =&gt;</span> <span class="hljs-built_in">I</span>.loginAsAdmin(),
      <span class="hljs-attr">check</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">I</span></span>) =&gt;</span> <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'Admin'</span>, <span class="hljs-string">'.navbar'</span>);
      fetch: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">I</span></span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">I</span>.executeScript(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> localStorage.getItem(<span class="hljs-string">'session_id'</span>));
      },
      <span class="hljs-attr">restore</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">I</span>, <span class="hljs-built_in">session</span></span>) =&gt;</span> {
        <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/'</span>);
        <span class="hljs-built_in">I</span>.executeScript(<span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">session</span></span>) =&gt;</span> localStorage.setItem(<span class="hljs-string">'session_id'</span>, <span class="hljs-built_in">session</span>), <span class="hljs-built_in">session</span>);
      },
    }
  }
}
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="tips-using-async-function-in-the-autologin"></a><a href="#tips-using-async-function-in-the-autologin" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tips: Using async function in the autoLogin</h4>
<p>If you use async functions in the autoLogin plugin, login function should be used with <code>await</code> keyword.</p>
<pre><code class="hljs css language-js">autoLogin: {
  <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">saveToFile</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">inject</span>: <span class="hljs-string">'login'</span>,
  <span class="hljs-attr">users</span>: {
    <span class="hljs-attr">admin</span>: {
      <span class="hljs-attr">login</span>: <span class="hljs-keyword">async</span> (<span class="hljs-built_in">I</span>) =&gt; {  <span class="hljs-comment">// If you use async function in the autoLogin plugin</span>
         <span class="hljs-keyword">const</span> phrase = <span class="hljs-keyword">await</span> <span class="hljs-built_in">I</span>.grabTextFrom(<span class="hljs-string">'#phrase'</span>)
         <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'username'</span>, <span class="hljs-string">'admin'</span>),
         <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'password'</span>, <span class="hljs-string">'password'</span>)
         <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'phrase'</span>, phrase)
      },
      <span class="hljs-attr">check</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">I</span></span>) =&gt;</span> {
         <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/'</span>);
         <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'Admin'</span>);
      }
    }
  }
}
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-keyword">Scenario</span>(<span class="hljs-string">'login'</span>, <span class="hljs-keyword">async</span> (<span class="hljs-built_in">I</span>, login) =&gt; {
  <span class="hljs-keyword">await</span> login(<span class="hljs-string">'admin'</span>) <span class="hljs-comment">// you should use `await`</span>
})
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="parameters-2"></a><a href="#parameters-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parameters</h3>
<ul>
<li><code>config</code></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="puppeteercoverage"></a><a href="#puppeteercoverage" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>puppeteerCoverage</h2>
<p>Dumps puppeteers code coverage after every test.</p>
<h5><a class="anchor" aria-hidden="true" id="configuration-3"></a><a href="#configuration-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration</h5>
<p>Configuration can either be taken from a corresponding helper (deprecated) or a from plugin config (recommended).</p>
<pre><code class="hljs css language-js"><span class="hljs-string">"plugins"</span>: {
   <span class="hljs-string">"puppeteerCoverage"</span>: {
     <span class="hljs-string">"enabled"</span>: <span class="hljs-literal">true</span>
   }
}
</code></pre>
<p>Possible config options:</p>
<ul>
<li><p><code>outputDir</code>: directory to dump coverage files</p></li>
<li><p><code>uniqueFileName</code>: generate a unique filename by adding uuid</p>
<p>First of all, your mileage may vary!</p>
<p>To work, you need the client javascript code to be NOT uglified. They need to be built in &quot;development&quot; mode.
And the end of your tests, you'll get a directory full of coverage per test run.  Now what?
You'll need to convert the coverage code to something istanbul can read.  Good news is someone wrote the code
for you (see puppeteer-to-istanbul link below).  Then using istanbul you need to combine the converted
coverage and create a report.  Good luck!</p>
<p>Links:</p></li>
<li><p><a href="https://github.com/GoogleChrome/puppeteer/blob/v1.12.2/docs/api.md#class-coverage">https://github.com/GoogleChrome/puppeteer/blob/v1.12.2/docs/api.md#class-coverage</a></p></li>
<li><p><a href="https://github.com/istanbuljs/puppeteer-to-istanbul">https://github.com/istanbuljs/puppeteer-to-istanbul</a></p></li>
<li><p><a href="https://github.com/gotwarlost/istanbul">https://github.com/gotwarlost/istanbul</a></p></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="parameters-3"></a><a href="#parameters-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parameters</h3>
<ul>
<li><code>config</code></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="retryfailedstep"></a><a href="#retryfailedstep" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>retryFailedStep</h2>
<p>Retries each failed step in a test.</p>
<p>Add this plugin to config file:</p>
<pre><code class="hljs css language-js"><span class="hljs-string">"plugins"</span>: {
    <span class="hljs-string">"retryFailedStep"</span>: {
       <span class="hljs-string">"enabled"</span>: <span class="hljs-literal">true</span>
    }
}
</code></pre>
<p>Run tests with plugin enabled:</p>
<pre><code class="hljs">codeceptjs run --plugins retryFailedStep
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="configuration-4"></a><a href="#configuration-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration:</h5>
<ul>
<li><code>retries</code> - number of retries (by default 5),</li>
<li><code>when</code> - function, when to perform a retry (accepts error as parameter)</li>
<li><code>factor</code> - The exponential factor to use. Default is 2.</li>
<li><code>minTimeout</code> - The number of milliseconds before starting the first retry. Default is 1000.</li>
<li><code>maxTimeout</code> - The maximum number of milliseconds between two retries. Default is Infinity.</li>
<li><code>randomize</code> - Randomizes the timeouts by multiplying with a factor between 1 to 2. Default is false.</li>
</ul>
<p>This plugin is very basic so it's recommended to improve it to match your custom needs.</p>
<h3><a class="anchor" aria-hidden="true" id="parameters-4"></a><a href="#parameters-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parameters</h3>
<ul>
<li><code>config</code></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="screenshotonfail"></a><a href="#screenshotonfail" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>screenshotOnFail</h2>
<p>Creates screenshot on failure. Screenshot is saved into <code>output</code> directory.</p>
<p>Initially this functionality was part of corresponding helper but has been moved into plugin since 1.4</p>
<p>This plugin is <strong>enabled by default</strong>.</p>
<h5><a class="anchor" aria-hidden="true" id="configuration-5"></a><a href="#configuration-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration</h5>
<p>Configuration can either be taken from a corresponding helper (deprecated) or a from plugin config (recommended).</p>
<pre><code class="hljs css language-js"><span class="hljs-string">"plugins"</span>: {
   <span class="hljs-string">"screenshotOnFail"</span>: {
     <span class="hljs-string">"enabled"</span>: <span class="hljs-literal">true</span>
   }
}
</code></pre>
<p>Possible config options:</p>
<ul>
<li><code>uniqueScreenshotNames</code>: use unique names for screenshot. Default: false.</li>
<li><code>fullPageScreenshots</code>: make full page screenshots. Default: false.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="parameters-5"></a><a href="#parameters-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parameters</h3>
<ul>
<li><code>config</code></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="stepbystepreport"></a><a href="#stepbystepreport" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>stepByStepReport</h2>
<p><img src="https://codecept.io/img/codeceptjs-slideshow.gif" alt="step-by-step-report"></p>
<p>Generates step by step report for a test.
After each step in a test a screenshot is created. After test executed screenshots are combined into slideshow.
By default, reports are generated only for failed tests.</p>
<p>Run tests with plugin enabled:</p>
<pre><code class="hljs">codeceptjs run --plugins stepByStepReport
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="configuration-6"></a><a href="#configuration-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration</h5>
<pre><code class="hljs css language-js"><span class="hljs-string">"plugins"</span>: {
   <span class="hljs-string">"stepByStepReport"</span>: {
     <span class="hljs-string">"enabled"</span>: <span class="hljs-literal">true</span>
   }
}
</code></pre>
<p>Possible config options:</p>
<ul>
<li><code>deleteSuccessful</code>: do not save screenshots for successfully executed tests. Default: true.</li>
<li><code>animateSlides</code>: should animation for slides to be used. Default: true.</li>
<li><code>ignoreSteps</code>: steps to ignore in report. Array of RegExps is expected. Recommended to skip <code>grab*</code> and <code>wait*</code> steps.</li>
<li><code>fullPageScreenshots</code>: should full page screenshots be used. Default: false.</li>
<li><code>output</code>: a directory where reports should be stored. Default: <code>output</code>.</li>
<li><code>screenshotsForAllureReport</code>: If Allure plugin is enabled this plugin attaches each saved screenshot to allure report. Default: false.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="parameters-6"></a><a href="#parameters-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parameters</h3>
<ul>
<li><code>config</code> <strong>any</strong></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="wdio"></a><a href="#wdio" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>wdio</h2>
<p>Webdriverio services runner.</p>
<p>This plugin allows to run webdriverio services like:</p>
<ul>
<li>selenium-standalone</li>
<li>sauce</li>
<li>testingbot</li>
<li>browserstack</li>
<li>appium</li>
</ul>
<p>A complete list of all available services can be found on <a href="https://webdriver.io">webdriverio website</a>.</p>
<h6><a class="anchor" aria-hidden="true" id="setup"></a><a href="#setup" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup</h6>
<ol>
<li>Install a webdriverio service</li>
<li>Enable <code>wdio</code> plugin in config</li>
<li>Add service name to <code>services</code> array inside wdio plugin config.</li>
</ol>
<p>See examples below:</p>
<h6><a class="anchor" aria-hidden="true" id="selenium-standalone-service"></a><a href="#selenium-standalone-service" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Selenium Standalone Service</h6>
<p>Install <code>@wdio/selenium-standalone-service</code> package, as <a href="https://webdriver.io/docs/selenium-standalone-service.html">described here</a>.
It is important to make sure it is compatible with current webdriverio version.</p>
<p>Enable <code>wdio</code> plugin in plugins list and add <code>selenium-standalone</code> service:</p>
<pre><code class="hljs css language-js">plugins: {
   <span class="hljs-attr">wdio</span>: {
       <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span>,
       <span class="hljs-attr">services</span>: [<span class="hljs-string">'selenium-standalone'</span>]
       <span class="hljs-comment">// additional config for service can be passed here</span>
   }
}
</code></pre>
<p>Please note, this service can be used with Protractor helper as well!</p>
<h5><a class="anchor" aria-hidden="true" id="sauce-service"></a><a href="#sauce-service" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sauce Service</h5>
<p>Install <code>@wdio/sauce-service</code> package, as <a href="https://webdriver.io/docs/sauce-service.html">described here</a>.
It is important to make sure it is compatible with current webdriverio version.</p>
<p>Enable <code>wdio</code> plugin in plugins list and add <code>sauce</code> service:</p>
<pre><code class="hljs css language-js">plugins: {
   <span class="hljs-attr">wdio</span>: {
       <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span>,
       <span class="hljs-attr">services</span>: [<span class="hljs-string">'sauce'</span>],
       <span class="hljs-attr">user</span>: ... ,<span class="hljs-comment">// saucelabs username</span>
       key: ... <span class="hljs-comment">// saucelabs api key</span>
       <span class="hljs-comment">// additional config, from sauce service</span>
   }
}
</code></pre>
<hr>
<p>In the same manner additional services from webdriverio can be installed, enabled, and configured.</p>
<h4><a class="anchor" aria-hidden="true" id="configuration-7"></a><a href="#configuration-7" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration</h4>
<ul>
<li><code>services</code> - list of enabled services</li>
<li>... - additional configuration passed into services.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="parameters-7"></a><a href="#parameters-7" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parameters</h3>
<ul>
<li><code>config</code></li>
</ul>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 2019-6-7</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/configuration"><span class="arrow-prev">← </span><span>Configuration</span></a><a class="docs-next button" href="/docker"><span>Docker</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#allure">allure</a><ul class="toc-headings"><li><a href="#parameters">Parameters</a></li></ul></li><li><a href="#autodelay">autoDelay</a><ul class="toc-headings"><li><a href="#parameters-1">Parameters</a></li></ul></li><li><a href="#autologin">autoLogin</a><ul class="toc-headings"><li><a href="#parameters-2">Parameters</a></li></ul></li><li><a href="#puppeteercoverage">puppeteerCoverage</a><ul class="toc-headings"><li><a href="#parameters-3">Parameters</a></li></ul></li><li><a href="#retryfailedstep">retryFailedStep</a><ul class="toc-headings"><li><a href="#parameters-4">Parameters</a></li></ul></li><li><a href="#screenshotonfail">screenshotOnFail</a><ul class="toc-headings"><li><a href="#parameters-5">Parameters</a></li></ul></li><li><a href="#stepbystepreport">stepByStepReport</a><ul class="toc-headings"><li><a href="#parameters-6">Parameters</a></li></ul></li><li><a href="#wdio">wdio</a><ul class="toc-headings"><li><a href="#parameters-7">Parameters</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo.svg" alt="CodeceptJS" width="66" height="58"/></a><div><h5>Docs</h5><a href="/quickstart">QuickStart</a><a href="/basics">Guides</a><a href="/reference">Reference</a></div><div><h5>Community</h5><a href="https://join.slack.com/t/codeceptjs/shared_invite/enQtMzA5OTM4NDM2MzA4LTNiMTE5YzNlMjQyNWYwZjAzODE3ZTI1MmVkYjY0YTYyNDZmMWJjM2VlODg3NTQzYzM2OGE5ZmIwODFjODk1MzI">Slack Chat</a><a href="https://codecept.discourse.group" target="_blank" rel="noreferrer noopener">Community Forum</a><a href="http://stackoverflow.com/questions/tagged/codeceptjs" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/codeceptjs" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="https://github.com/Codeception/CodeceptJS">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/codeception/codeceptjs/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a><a href="http://sdclabs.com/codeceptjs?utm_source=codecept.io&amp;utm_medium=footer&amp;utm_term=link&amp;utm_campaign=reference">Commercial Support</a><a href="http://sdclabs.com/trainings/web-automation-codeceptjs?utm_source=codecept.io&amp;utm_medium=top_menu&amp;utm_term=link&amp;utm_campaign=reference">Trainings</a></div></section><section class="copyright">Copyright © 2019 CodeceptJS</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '0cc13a0af567a05fc38790be681b1491',
                indexName: 'codecept',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>